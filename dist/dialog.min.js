!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Modal=t()}(this,function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++)e.appendChild(t[n])}function t(e,t){var n=t.customTheme;for(var o in e)if("buttons"!==o)e[o].style.cssText=n[o];else for(var i in e[o])e[o][i].style.cssText=n[o][i]}function n(e,t){var n=document.createElement(e);return t&&(n.className=t),n}var o={clickMaskCloseWindow:!1,theme:"refreshing",customTheme:!1,isOpenAnimation:!1,hideCloseBtn:!1},i={warp:"position:fixed;left:0;top:0;right:0;bottom:0;background:none;z-index:-1;opacity:0;",refreshing:{mask:"background:rgba(0,0,0,.01);position:absolute;left:0;top:0;right:0;bottom:0;-webkit-transition:all 0.3s 0s;transition:all 0.3s 0s;-webkit-transform:scale(1);transform:scale(1);",box:"background: #ffffff;position: absolute;left: 50%;top: 50%;z-index: 1000;color: #808080;margin-top: -25%; margin-left: -40%;box-shadow:0 10px 40px rgba(0,0,0,.6);padding:10px 20px;box-sizing:border-box;width:80%;",header:"height:30px;color:#909090;font-size:14px;line-height:30px;",body:"width:100%;height:60px;padding-top:10px;box-sizing:border-box;line-height:24px;color:#5f5f5f",footer:"height:40px;overflow:hidden;color:#12ccea;text-align:right",buttons:[{cancel:"line-height:40px;display:inline-block;padding:0 10px;cursor:pointer;"},{ok:"line-height:40px;display:inline-block;padding:0 10px;cursor:pointer;"}]},iosTheme:{mask:"background:rgba(0,0,0,.5);position:absolute;left:0;top:0;right:0;bottom:0;",box:"background: #ffffff;position: absolute;left: 50%;top: 50%;z-index: 1000;color: #808080;margin-top: -25%; margin-left: -40%;padding-top:20px;box-sizing:border-box;width:80%;border-radius:12px;-webkit-transform:scale(.01);transform:scale(.01);",header:"height:30px;color:#000000;font-size:16px;line-height:30px;text-align:center;",body:"width:100%;height:52px;padding-top:10px;box-sizing:border-box;line-height:20px;color:#232323;text-align:center;font-size:13px;padding:5px 25px;",footer:"height:45px;overflow:hidden;color:#0275f6;text-align:center;border-top:1px solid #e2e2e2;box-shadow:0 1px 1px rgba(0,0,0,.02) inset;",buttons:[{cancel:"line-height:45px;display:inline-block;cursor:pointer;width:50%;border-right:1px solid #e2e2e2;box-sizing:border-box;"},{ok:"line-height:45px;display:inline-block;cursor:pointer;width:50%;"}]},currentTheme:{},animationStyle:".dialog-warp.fade .dialog-main-box{-webkit-transform:scale(1)!important;transform:scale(1)!important;-webkit-transition:all 0.3s 0s;transition:all 0.3s 0s;}"},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(){function s(e,t){r(this,s),!t&&this.init(e)}return a(s,[{key:"init",value:function(e){if(e||(e={}),void 0!==e.customTheme)o.customTheme=!0;else{var t=e.theme||o.theme;1==t||"refreshing"===t?t="refreshing":2==t||"iosTheme"===t?t="iosTheme":(console.warn("系统里没有你选择的主题，默认使用“refreshing”主题"),t="refreshing"),o.theme=t,e.customTheme=i[o.theme],e.customTheme.warp=i.warp}void 0!==e.clickMaskCloseWindow&&(o.clickMaskCloseWindow=e.clickMaskCloseWindow),void 0!==e.isOpenAnimation&&(o.isOpenAnimation=e.isOpenAnimation),i.currentTheme=Object.assign(i.currentTheme,e)}},{key:"createBut",value:function(e,t){for(var i=this,r=[],a=e.buttons,s=e.customTheme.buttons,l=0;l<s.length;l++){var c=function(c){if(!e.buttons[c])return"continue";var u=t.buttons[c];u=n("div","dialog-button-"+c);var d=void 0;a[c].text?d=a[c].text:"ok"===c?d="确定":"cancel"===c&&(d="取消"),u.innerHTML=d,u.style.cssText=s[l][c],u.key=c,o.hideCloseBtn&&"cancel"===c&&(u.style.display="none"),u.onclick=function(e){var n=void 0;n="function"==typeof a[c]?a[c]:a[c].callback;var o=n&&n(t.warp);("cancel"===c||o)&&i.remove(t.warp)},r.push(u)};for(var u in s[l]){c(u)}}return r}},{key:"createDomTree",value:function(e){var t=this,i={warp:n("div","dialog-warp"),mask:n("div","dialog-mask"),box:n("div","dialog-main-box"),header:n("div","dialog-header"),body:n("div","dialog-body"),footer:n("div","dialog-footer"),buttons:{}};return e.title||delete i.header,o.clickMaskCloseWindow&&(i.mask.onclick=function(){t.remove(i.warp)}),i}},{key:"addAnimationStyle",value:function(){var e=n("style");e.type="text/css",e.innerHTML=i.animationStyle,document.head.appendChild(e)}},{key:"render",value:function(n){var i=this.createDomTree(n);if(n.buttons){var r=this.createBut(n,i);e(i.footer,r)}var a=[i.body,i.footer];i.header&&(i.header.innerHTML=n.title,a.unshift(i.header)),i.body.innerHTML=n.content,e(i.box,a),e(i.warp,[i.mask,i.box]),t(i,n),o.isOpenAnimation?(this.addAnimationStyle(),i.warp.style.opacity="0",setTimeout(function(){i.warp.className+=" fade"},10)):i.box.style.webkitTransform="scale(1)",i.warp.style.zIndex="9999",document.body.appendChild(i.warp),i.warp.style.opacity="1"}},{key:"remove",value:function(e){document.body.removeChild(e)}}]),s}(),u=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0));return n.setState(e),n.initProps(e),n}return s(t,e),a(t,[{key:"setState",value:function(e){void 0!==e.hideCloseBtn&&(o.hideCloseBtn=e.hideCloseBtn)}},{key:"initProps",value:function(e){e=Object.assign(e,i.currentTheme),this.render(e,this.el)}}]),t}(c),d=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0));return n.setState(e),n.initProps(e),n}return s(t,e),a(t,[{key:"setState",value:function(e){void 0!==e.hideCloseBtn&&(o.hideCloseBtn=e.hideCloseBtn)}},{key:"initProps",value:function(e){e=Object.assign(e,i.currentTheme),e.buttons={ok:e.buttons.ok,cancel:e.buttons.cancel},this.render(e)}}]),t}(c),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0));return n.setState(e),n.initProps(e),n}return s(t,e),a(t,[{key:"setState",value:function(e){}},{key:"initProps",value:function(e){e=Object.assign(e,i.currentTheme),e.buttons={ok:e.ok||e.buttons.ok},this.render(e)}}]),t}(c);return function(){function e(t){return r(this,e),new c(t),this}return a(e,[{key:"customs",value:function(e){return new u(e)}},{key:"confirm",value:function(e){return new d(e)}},{key:"alert",value:function(e){return new p(e)}}]),e}()});
